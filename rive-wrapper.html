<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rive demo – portrait 9 × 16</title>

  <style>
    .embed-wrapper{
      aspect-ratio: 9 / 16;
      width: min(720px, 100%);
      height: min(1280px, 90vh);
      margin:0 auto; position:relative;
    }
    .embed-wrapper canvas{position:absolute;inset:0;width:100%;height:100%;border:0;}
  </style>

  <script src="https://unpkg.com/@rive-app/canvas@2"></script>

  <!-- Iframely / oEmbed / Open-Graph -->
  <link rel="player" href="https://fc-twam.github.io/Rive_Space_Mini-game/rive-wrapper.html"
        type="text/html" width="720" height="1280">
  <link rel="alternate" type="application/json+oembed"
        href="https://fc-twam.github.io/Rive_Space_Mini-game/oembed.json" title="Rive mini-game">

  <meta property="og:type"  content="video.other">
  <meta property="og:video" content="https://fc-twam.github.io/Rive_Space_Mini-game/rive-wrapper.html">
  <meta property="og:video:type"   content="text/html">
  <meta property="og:video:width"  content="720">
  <meta property="og:video:height" content="1280">

  <!-- Twitter Player Card -->
  <meta name="twitter:card"  content="player">
  <meta name="twitter:title" content="Rive demo – portrait 9 × 16">
  <meta name="twitter:player"        content="https://fc-twam.github.io/Rive_Space_Mini-game/rive-wrapper.html">
  <meta name="twitter:player:width"  content="720">
  <meta name="twitter:player:height" content="1280">
</head>
<body>
  <div class="embed-wrapper"><canvas id="rive"></canvas></div>

  <script>
    /* crisp canvas */
    const canvas = document.getElementById("rive");
    const resize = () => {
      const dpr = window.devicePixelRatio || 1;
      canvas.width  = canvas.clientWidth  * dpr;
      canvas.height = canvas.clientHeight * dpr;
    };
    resize(); window.addEventListener("resize", resize);

    /* one player instance */
    const game = new rive.Rive({
      src: "./lane_catcher_2.riv",
      canvas,
      stateMachines: "State Machine 1",
      autoplay: true,
      onLoad: () => {
        const map={}; game.stateMachineInputs("State Machine 1").forEach(i=>map[i.name]=i);
        const B=(n,v)=>map[n]&&(map[n].value=!!v), N=(n,v)=>map[n]&&(map[n].value=+v), T=n=>map[n]?.fire();
        /* initial values */
        B("restart game bool",true); B("lanes active",false); B("balls active",false);
        B("balls active level 2",true); B("balls active level 3",true);
        B("miss bool",true); N("baskets",2);
        /* demo key */
        window.addEventListener("keydown",e=>{
          if(e.code==="Space"){ T("game reset trig"); B("restart game bool",true);
            setTimeout(()=>B("restart game bool",false),100); }
        });
      }
    });
  </script>
</body>
</html>
